<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- material icons -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />

    <!-- dashboard icon -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0"
    />

    <!-- Previous test icon -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0"
    />

    <!-- notes icon -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0"
    />

    <!-- my classes icon -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0"
    />

    <!-- hamburger menu icon -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0"
    />

    <!-- bell icon -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0" />

    <!-- logout icon -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0" />

    <!-- google font (inter) and (quicksand)-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand:wght@600;700&display=swap"
      rel="stylesheet"
    />
    
    <!-- apache e-chart -->
    <script charset="utf-8" src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.2.1/dist/echarts.min.js"></script>
      <script src="https://fastly.jsdelivr.net/npm/jquery"></script>


    <!-- link js -->
    <script src="graph.js"></script>

    <!-- stylesheet -->
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="fiveTest.html">
    <title>NCLEX Dashboard</title>
  </head>
  <body>
    <div class="container">
      <aside>
        <div class="top">
          <div class="logo">
            <img src="images/logo.png" />
          </div>
          <div class="divider"></div>
          <div class="hamburger-menu">
            <a href="#">
              <span class="material-symbols-rounded"> menu </span>
            </a>
          </div>
        </div>
        <div class="sidebar">
          <a href="#" class="icon-title select">
            <span class="material-symbols-rounded"> dashboard </span>
            <p class="sidebar-title">Dashboard</p>
          </a>
          <a href="test.html" class="icon-title">
            <span class="material-symbols-rounded"> description </span>
            <p class="sidebar-title">Previous Test</p>
          </a>
          <a href="#" class="icon-title">
            <span class="material-symbols-rounded"> edit_square </span>
            <p class="sidebar-title">Notes</p>
          </a>
          <a href="#" class="icon-title">
            <span class="material-symbols-rounded"> videocam </span>
            <p class="sidebar-title">My Classes</p>
          </a>
          <div class="subscribe-card">
            <div class="overlap">
              <img class="vector-design" src="vector.svg" alt="curve vector design in lavender color"></img>
              <div class="subscribe">
                <div class="subscription">Subscription</div>
                <p class="access-to-all">Get access to all<br/>mock tests for <br/>better preparation</p>
                <button class="subscribe-btn">Subscribe</button>
              </div>
            </div>
          </div>
          <div class="profile">
            <img id="profile-img" src="images/profile.jpg" />
            <div class="name">
              <p class="sidebar-title blue">Sumi Pradhan</p>
              <p class="grey">Student</p>
            </div>
          </div>
        </div>
      </aside>
      <main>
        <div class="top-right">
          <a href="#" class="blue"><span class="material-symbols-rounded">notifications</span></a>
          <div class="divider"></div>
          <a href="#" class="logout blue">
            <span class="material-symbols-rounded">logout</span>
            <p>Logout</p>
          </a>
        </div>
        <div class="breadcrumbs">
          <span class="product-title">Product</span>
          <div class="arrow"></div>
          <span class="breadcrumb-title">Statistics</span>
        </div>
        <div class="three-btns">
          <div class="st-pt">
            <a href="#" class="statistics-btn choose">STATISTICS</a>
            <a href="fiveTest.html" class="previous-btn">PREVIOUS TESTS</a>
          </div>
          <div class="create-btn"><span class="material-symbols-rounded">add</span>Create Test</div>
        </div>
        <div class="cards">
          <div class="default">
            <div class="left">
              <p class="card-title">All Questions</p>
              <p class="card-number all-q">3081</p>
            </div>
            <div class="right all-q">
              <span class="material-symbols-rounded">fiber_smart_record</span>
            </div>
          </div>
           <div class="default">
            <div class="left">
              <p class="card-title">Used</p>
              <p class="card-number used-q">1466</p>
            </div>
            <div class="right used-q">
              <span class="material-symbols-rounded">thumb_up</span>
            </div>
          </div>
           <div class="default">
            <div class="left">
              <p class="card-title">Correct</p>
              <p class="card-number correct-q">177</p>
            </div>
            <div class="right correct-q">
              <span class="material-symbols-rounded">check_circle</span>
            </div>
          </div>
           <div class="default">
            <div class="left">
              <p class="card-title">Incorrect</p>
              <p class="card-number incorrect-q">533</p>
            </div>
            <div class="right incorrect-q">
              <span class="material-symbols-rounded">cancel</span>
            </div>
          </div>
           <div class="default">
            <div class="left">
              <p class="card-title">Omitted</p>
              <p class="card-number all omitted-q">706</p>
            </div>
            <div class="right omitted-q">
              <span class="material-symbols-rounded">do_not_disturb_on</span>
            </div>
          </div>
           <div class="default">
            <div class="left">
              <p class="card-title">Correct on reattempt</p>
              <p class="card-number reattempt-q">400</p>
            </div>
            <div class="right reattempt-q">
              <span class="material-symbols-rounded">star</span>
            </div>
          </div>
        </div>
        <p class="title">Subject And Lesson Statistics</p>
        <div class="subject-lesson">
          <div class="statistics">
            <div class="top-section">
              <p class="sub-title">Subject Statistics</p>
              <div class="dropdown">
                <div class="pick">
                  <span class="picked">Adult</span>
                  <div class="caret"></div>
                </div>
                <ul class="menu">
                  <li class="active">Adult</li>
                  <li>Mental Health</li>
                  <li>Pediatrics</li>
                  <li>Pharmacology</li>
                  <li>Maternal and Newborn Care</li>
                  <li>Basic Care And Comfort</li>
                  <li>Fundamentals</li>
                  <li>Child Health</li>
                  <li>Physiological Adaptation</li>
                  <li>Critical Care</li>
                  <li>Psychosocial Integrity</li>
                </ul>
              </div>
            </div>     
            <!-- <div id="subject-chart"></div> -->
          </div>
          <div class="statistics">
            <div class="top-section">
              <p class="sub-title">Lesson Statistics</p>
              <div class="dropdown">
                <div class="pick">
                  <span class="picked">Endocrine</span>
                  <div class="caret"></div>
                </div>
                <ul class="menu">
                  <li class="active">Endocrine</li>
                  <li>Neurology</li>
                  <li>Cardiovascular</li>
                  <li>Immunology</li>
                  <li>Eye/Ear</li>
                  <li>Musculoskeletal</li>
                  <li>Urinary</li>
                  <li>Respiratory</li>
                  <li>Nutrition</li>
                  <li>Urinary</li>
                  <li>Mantal Health Concepts</li>
                </ul>
              </div>
            </div>     
            <!-- <div id="lesson-chart"></div> -->
          </div>
        </div>
        <p class="title">Score Statistics</p>
        <div class="graph-section">
          <div class="test-container">
            <p class="graph-title">Learning Test Score Chart</p>
            <div class="score">
              <div class="shape"></div>
              <p>Score in %</p>
            </div>
            <div id="test-chart"></div>
          </div>
          <div class="score-container">
            <p class="graph-title">Subject Score Graph</p>
            <br>
            <div id="bar-graph"></div>
          </div>
        </div>
      </main>
    </div>

  <!-- dropdown   -->
  <script>
    const dropdowns = document.querySelectorAll('.dropdown');
    // loop through all dropdown elements
    dropdowns.forEach(dropdown => {
      const pick = dropdown.querySelector('.pick');
      const caret = dropdown.querySelector('.caret');
      const menu = dropdown.querySelector('.menu');
      const options = dropdown.querySelectorAll('.menu li');
      const picked = dropdown.querySelector('.picked');

      pick.addEventListener('click', () => {
        pick.classList.toggle('pick-selected');
        caret.classList.toggle('caret-rotate');
        menu.classList.toggle('menu-open');
      });

      // loop through all option elements
      options.forEach(option => {
        option.addEventListener('click', () => {
          picked.innerText = option.innerText;
          pick.classList.remove('pick-selected');
          caret.classList.remove('caret-rotate');
          menu.classList.remove('menu-open');
          options.forEach(option => {
            option.classList.remove('active');
          });
          option.classList.add('active');
        });
      });
    });
  </script>  

  <!-- subject chart -->
  <script>
    var subjectChart = document.getElementById('subject-chart');

    var chart = echarts.init(subjectChart);

    var options = {
    // tooltip: {
    //   trigger: 'item'
    // },
    legend: {
      top: 'middle',
      right: '15%',
      width: '40%',
      formatter: (name) => `${name} Questions: `
    },
    series: [
      {
        name: 'Access From',
        type: 'pie',
        width: '100%',
        height: '100%',
        radius: ['45%', '90%'],
        center: ['30%', '50%'],
        avoidLabelOverlap: false,
        label: {
          show: false,
          position: 'center',
          formatter: (data) => `${data.name} Questions: ${data.value}`
        },
        emphasis: {
          label: {
            show: true,
            fontSize: 10,
            fontWeight: 'bold'
          }
        },
        labelLine: {
          show: false
        },
        data: [
          { value: 584, name: 'Incorrect' },
          { value: 480, name: 'Correct' },
          { value: 1233, name: 'Unused' },
          { value: 1244, name: 'Omitted' }
        ]}
    ]};
  // Set options and render the chart
    chart.setOption(options);
  </script> 
  
  <!-- lesson chart -->
  <script>
    var lessonChart = document.getElementById('lesson-chart');

    var chart = echarts.init(lessonChart);

    var options = {
    // tooltip: {
    //   trigger: 'item'
    // },
    legend: {
      top: 'middle',
      right: '15%',
      width: '40%',
      formatter: (name) => `${name} Questions: `
    },
    series: [
      {
        name: 'Access From',
        type: 'pie',
        radius: ['45%', '90%'],
        center: ['30%', '50%'],
        avoidLabelOverlap: false,
        label: {
          show: false,
          position: 'center',
          formatter: (data) => `${data.name} Questions: ${data.value}`
        },
        emphasis: {
          label: {
            show: true,
            fontSize: 10,
            fontWeight: 'bold'
          }
        },
        labelLine: {
          show: false
        },
        data: [
          { value: 480, name: 'Incorrect' },
          { value: 1244, name: 'Correct' },
          { value: 584, name: 'Unused' },
          { value: 1233, name: 'Omitted' }
        ]}
    ]};
  // Set options and render the chart
    chart.setOption(options);
  </script>  

  <!-- test chart -->
  <script>
    // Access the container element
    var testChart = document.getElementById('test-chart');

    // Create the chart instance
    var chart = echarts.init(testChart);

    // Specify chart options and data
    var options = {
      xAxis: {
        type: 'category',
        data: ['Test8524','Test9734','Test6754', 'Test4554', 'Test5554', 'Test8755']   
      },
      yAxis: {
        type: 'value'
      },
      series: [
        {
          data: [120, 200, 150, 80, 70, 110],
          type: 'line'
        }
      ]
    };

    // Set options and render the chart
    chart.setOption(options);
  </script>
  
  <!-- bar chart -->
  <script>
    var dom = document.getElementById('bar-graph');
    var myChart = echarts.init(dom, null, {
      renderer: 'canvas',
      useDirtyRect: false
    });
    var app = {};
    var ROOT_PATH = 'https://echarts.apache.org/examples';
    var option;

    myChart.showLoading();
    $.get(
      ROOT_PATH + '/data/asset/data/obama_budget_proposal_2012.list.json',
      function (obama_budget_2012) {
        myChart.hideLoading();
        option = {
          tooltip: {
            trigger: 'axis',
            axisPointer: {
              type: 'shadow',
              label: {
                show: true
              }
            }
          },
          toolbox: {
            show: true,
            feature: {
              mark: { show: true },
              dataView: { show: true, readOnly: false },
              magicType: { show: true, type: ['line', 'bar'] },
              restore: { show: true },
              saveAsImage: { show: true }
            }
          },
          calculable: true,
          legend: {
            data: ['Growth', 'Budget 2011', 'Budget 2012'],
            itemGap: 5
          },
          grid: {
            top: '12%',
            left: '1%',
            right: '10%',
            containLabel: true
          },
          xAxis: [
            {
              type: 'category',
              data: obama_budget_2012.names
            }
          ],
          yAxis: [
            {
              type: 'value',
              name: 'Budget (million USD)',
              axisLabel: {
                formatter: function (a) {
                  a = +a;
                  return isFinite(a) ? echarts.format.addCommas(+a / 1000) : '';
                }
              }
            }
          ],
          dataZoom: [
            {
              show: true,
              start: 94,
              end: 100
            },
            {
              type: 'inside',
              start: 94,
              end: 100
            },
            {
              show: true,
              yAxisIndex: 0,
              filterMode: 'empty',
              width: 30,
              height: '80%',
              showDataShadow: false,
              left: '93%'
            }
          ],
          series: [
            {
              name: 'Budget 2011',
              type: 'bar',
              data: obama_budget_2012.budget2011List
            },
          ]
        };
        myChart.setOption(option);
      }
    );

    if (option && typeof option === 'object') {
      myChart.setOption(option);
    }

    window.addEventListener('resize', myChart.resize);
  </script>
</body>
</html>
